<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
			crossorigin="anonymous"
		/>
		<link
			href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="/styles/custom.css" />
		<title>Dependentes</title>
	</head>
	<body>
		<nav th:replace="base :: navBar"></nav>
		<main
			class="ps__container container d-flex flex-column align-items-center justify-content-around"
		>
		<div class="container d-flex flex-column align-items-center justify-content-between">
			<form class="m-2 d-flex flex-row" th:action="@{/dependentes/search}">
				<input class="form-control m-1" placeholder="Pesquise por nome" type="text" name="nomeS" id="nomeS">
				<button class="ps__button m-1" type="submit">Pesquisar</i></button>
			</form>
		</div>
		<div class="container w-100 overflow-scroll">
			<table class="table rounded-4 overflow-hidden">
				<thead class="ps__bluebg">
					<tr>
						<th scope="col" class="text-light">Id</th>
						<th scope="col" class="border border-start-1 border-light text-light">
							Nome
						</th>
						<th scope="col" class="border border-start-1 border-light text-light">
							Idade
						</th>
						<th scope="col" class="border border-start-1 border-light text-light">
							SÃ³cio
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="dependente: ${dependentesList}">
						<td
							th:attr="onclick=|fakeLinkDep('${dependente.id}')|"
							th:text="${dependente.id}"
							class="border border-1"
						/>
						<td
							th:attr="onclick=|fakeLinkDep('${dependente.id}')|"
							th:text="${dependente.nome}"
							class="border border-1"
						/>
						<td
							th:attr="onclick=|fakeLinkDep('${dependente.id}')|"
							th:text="${dependente.idade}"
							class="border border-1"
						/>
						<td
							th:attr="onclick=|fakeLinkDep('${dependente.id}')|"
							th:text="${dependente.socio.nome}"
							class="border border-1"
						/>
					</tr>
				</tbody>
			</table>
		</div>
			<ul class="nav nav-pills">
				<li
					class="nav-item"
					th:each="i: ${#numbers.sequence(0, dependentesList.totalPages-1)}"
				>
					<a th:href="@{/dependentes/(page=${i})}" th:text="${i+1}" class="nav-link"></a>
				</li>
			</ul>
		</main>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
			crossorigin="anonymous"
		></script>
		<script src="/js/scripts.js"></script>
	</body>
</html>
